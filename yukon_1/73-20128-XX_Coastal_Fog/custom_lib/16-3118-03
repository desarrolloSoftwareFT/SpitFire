!!!!    6    1    1  901924581  V3fdd                                         
!
!***  All contents copyright 2007 Cisco Systems Inc.
!***  All rights reserved.
!***  No portion of this software may be used or reproduced in any form, or
!***  by any means, without prior written permission from Cisco Systems, Inc.
!
! Part Name:             29GL512N10T
! Alias:                 S29GL512N10T
! Part Type:             VLSI
! Description:           32M X 16 Page Mode Flash PROM
! Manufacturer:          Spansion
! Package Style:         56 Pin SOP
! Created:               Mar 09, 2006
! Updated:               Jan 18, 2007. Test both WORD and BYTE modes.
! Updated:               Jan 08, 2008. Added Cisco part number.
! Programmer:            sama
! Tester:                HP3070
! Processor:             VPU
! Vector Format:         VCL
! Testjet Testable:      yes
! JTAG Device:           no
! Fault coverage:        98%. Pins RDY and WPB not tested.
! pins Not Fully Tested: 16,17
! Constraints:       
! Cisco Part #:      16-3118-01,16-3342-01,16-3516-01

enable loop counter

sequential

vector cycle 500n
receive delay 400n

assign VCC   to pins 43
assign VIO   to pins 29
assign VSS   to pins 33,52

assign NC    to pins 27,28,30,55

assign ABUS  to pins 56
assign ABUS  to pins 1,2,15,12,11,18,19,54
assign ABUS  to pins 3,4,5,6,7,8,9,10
assign ABUS  to pins 20,21,22,23,24,25,26,31
assign DBUS  to pins 51,49,47,45,42,40,38,36
assign DBUS  to pins 50,48,46,44,41,39,37,35
assign DBUSH to pins 51,49,47,45,42,40,38,36
assign DBUSL to pins 50,48,46,44,41,39,37,35
assign CEB   to pins 32
assign OEB   to pins 34
assign WEB   to pins 13
assign BYTEB to pins 53
assign RSTB  to pins 14
assign WPB   to pins 16
assign RDY   to pins 17

power   VCC,VSS,VIO
inputs  ABUS,CEB,OEB,WEB,BYTEB
inputs  WPB,RSTB
outputs RDY
bidirectional DBUS,DBUSH,DBUSL
nondigital NC

disable DBUS with CEB,RSTB to "10"

format hexadecimal ABUS,DBUS,DBUSH,DBUSL

family LVT

set load on groups RDY  to pull up
set load on groups DBUS to pull up

vector INIT1
 receive DBUS
 set ABUS  to "0000000"
 set DBUS  to "xxxx"
 set RSTB  to "1"
 set CEB   to "1"
 set OEB   to "1"
 set WEB   to "1"
 set BYTEB to "x"
 set WPB   to "1"
 set RDY   to "x"
end vector

vector KEEP1
 receive DBUS
 set ABUS  to "kkkkkkk"
 set DBUS  to "xxxx"
 set RSTB  to "k"
 set CEB   to "k"
 set OEB   to "k"
 set WEB   to "k"
 set BYTEB to "k"
 set WPB   to "k"
 set RDY   to "x"
end vector

vector KEEP2
 drive DBUS
 set ABUS  to "kkkkkkk"
 set DBUS  to "kkkk"
 set RSTB  to "k"
 set CEB   to "k"
 set OEB   to "k"
 set WEB   to "k"
 set BYTEB to "k"
 set WPB   to "k"
 set RDY   to "x"
end vector

vector BYTEB_0
 initialize to KEEP1
 set BYTEB  to "0"
end vector

vector BYTEB_1
 initialize to KEEP1
 set BYTEB  to "1"
end vector

vector RSTB_0
 initialize to KEEP1
 set RSTB   to "0"
end vector

vector RSTB_1
 initialize to KEEP1
 set RSTB   to "1"
end vector

vector OEB_0
 initialize to KEEP1
 set OEB    to "0"
end vector

vector OEB_1
 initialize to KEEP1
 set OEB    to "1"
end vector

vector CEB_0
 initialize to KEEP1
 set CEB    to "0"
end vector

vector CEB_1
 initialize to KEEP1
 set CEB    to "1"
 set OEB    to "1"
end vector

vector CEB_BYTE_0
 initialize to KEEP1
 drive DBUSH
 receive DBUSL
 set DBUSH  to "kk"
 set CEB    to "0"
end vector

vector CEB_BYTE_1
 initialize to KEEP1
 drive DBUSH
 receive DBUSL
 set DBUSH  to "kk"
 set CEB    to "1"
 set OEB    to "1"
end vector

vector WEB_0
 initialize to KEEP2
 set WEB    to "0"
end vector

vector WEB_1
 initialize to KEEP2
 set WEB    to "1"
end vector

vector A0_0
 initialize to KEEP1
 drive DBUSH
 receive DBUSL
 set DBUSH  to "00"  ! D15 = A0 for Byte mode
 set CEB    to "0"
end vector

vector A0_1
 initialize to KEEP1
 drive DBUSH
 receive DBUSL
 set DBUSH  to "80"  ! D15 = A0 for Byte mode
 set CEB    to "0"
end vector

! **********************************************************************

vector A_0000555
 initialize to KEEP1
 set ABUS   to "0000555"
end vector

vector A_00002AA
 initialize to KEEP1
 set ABUS   to "00002AA"
end vector

vector A_0000001
 initialize to KEEP1
 set ABUS   to "0000001"
end vector

vector A_000000E
 initialize to KEEP1
 set ABUS   to "000000E"
end vector

vector A_000000F
 initialize to KEEP1
 set ABUS   to "000000F"
end vector

! **********************************************************************

vector A_0000000
 initialize to KEEP1
 set ABUS   to "0000000"
 upcounter ABUS
end vector

vector A_0000100
 initialize to KEEP1
 set ABUS   to "0000100"
end vector

vector A_0000200
 initialize to KEEP1
 set ABUS   to "0000200"
 upcounter ABUS
end vector

vector A_0000400
 initialize to KEEP1
 set ABUS   to "0000400"
 upcounter ABUS
end vector

vector A_0000800
 initialize to KEEP1
 set ABUS   to "0000800"
 upcounter ABUS
end vector

vector A_0001000
 initialize to KEEP1
 set ABUS   to "0001000"
 upcounter ABUS
end vector

vector A_0002000
 initialize to KEEP1
 set ABUS   to "0002000"
 upcounter ABUS
end vector

vector A_0004000
 initialize to KEEP1
 set ABUS   to "0004000"
 upcounter ABUS
end vector

vector A_0008000
 initialize to KEEP1
 set ABUS   to "0008000"
 upcounter ABUS
end vector

vector A_0010000
 initialize to KEEP1
 set ABUS   to "0010000"
 upcounter ABUS
end vector

vector A_0020000
 initialize to KEEP1
 set ABUS   to "0020000"
 upcounter ABUS
end vector

vector A_0040000
 initialize to KEEP1
 set ABUS   to "0040000"
 upcounter ABUS
end vector

vector A_0080000
 initialize to KEEP1
 set ABUS   to "0080000"
 upcounter ABUS
end vector

vector A_0100000
 initialize to KEEP1
 set ABUS   to "0100000"
 upcounter ABUS
end vector

vector A_0200000
 initialize to KEEP1
 set ABUS   to "0200000"
 upcounter ABUS
end vector

vector A_0400000
 initialize to KEEP1
 set ABUS   to "0400000"
 upcounter ABUS
end vector

vector A_0800000
 initialize to KEEP1
 set ABUS   to "0800000"
 upcounter ABUS
end vector

vector A_1000000
 initialize to KEEP1
 set ABUS   to "1000000"
 upcounter ABUS
end vector

! **********************************************************************

vector WD_00AA
 initialize to KEEP2
 set DBUS   to "00AA"
end vector

vector WD_0055
 initialize to KEEP2
 set DBUS   to "0055"
end vector

vector WD_0090
 initialize to KEEP2
 set DBUS   to "0090"
end vector

! **********************************************************************

vector RD_227E
 initialize to KEEP1
 set DBUS   to "227E"
end vector

vector RD_FF7E
 initialize to KEEP1
 format binary DBUS
 set DBUS   to "x111111101111110"
 format hexadecimal DBUS
end vector

vector RD_2223
 initialize to KEEP1
 set DBUS   to "2223"
end vector

vector RD_FF23
 initialize to KEEP1
 format binary DBUS
 set DBUS   to "x111111111010011"
 format hexadecimal DBUS
end vector

vector RD_2201
 initialize to KEEP1
 set DBUS   to "2201"
end vector

vector RD_FF01
 initialize to KEEP1
 format binary DBUS
 set DBUS   to "x111111100000001"
 format hexadecimal DBUS
end vector

vector RD_FFFF
 initialize to KEEP1
 set DBUS   to "FFFF"
end vector

vector RD_BYTE_FFFF
 initialize to KEEP1
 format binary DBUS
 set DBUS   to "x111111111111111"
 format hexadecimal DBUS
end vector

vector RD_WORD_CRC
 initialize to KEEP1
 set OEB    to "0"
 set DBUS   to "0000"
end vector

vector RD_BYTE_CRC
 initialize to KEEP1
 drive DBUSH
 receive DBUSL
 set DBUSH  to "kk"
 set OEB    to "0"
 set DBUSL  to "00"
end vector

! **************************************************************************

sub RST_IC
 repeat 40 times
  execute RSTB_0
 end repeat
 repeat 20 times
  execute RSTB_1
 end repeat
end sub

sub WR(ADDR,DATA)
 execute ADDR
 execute CEB_0
 execute DATA
 execute WEB_0
 execute WEB_1
 execute CEB_1
end sub

sub RD(ADDR,DATA)
 execute ADDR
 execute CEB_0
 execute OEB_0
 execute DATA
 execute OEB_1
 execute CEB_1
end sub

! ************************ Word Mode, Pin BYTEB = 1 ************************

unit "Read Device ID and CPU Bus Interface test"
 execute INIT1
 execute BYTEB_1
 call RST_IC
 call WR(A_0000555,WD_00AA)  ! Read Device ID
 call WR(A_00002AA,WD_0055)
 call WR(A_0000555,WD_0090)
 call RD(A_0000001,RD_227E)
 call RD(A_000000E,RD_2223)
 call RD(A_000000F,RD_2201)
 execute CEB_0               ! Test pin OEB for stuck low
 execute OEB_1
 execute RD_FFFF
 execute CEB_1               ! Test pin CEB for stuck low
 execute OEB_0
 execute RD_FFFF
end unit

unit "Read 1K Words From Address $0000000"
 execute INIT1
 execute BYTEB_1
 call RST_IC
 preset counter A_0000000
 repeat 1024 times
  execute CEB_0
  execute RD_WORD_CRC compress
  execute CEB_1
  count A_0000000
  end repeat
end unit

unit "Read 512 Words From Address $0000400"
 preset counter A_0000400
 repeat 512 times
  execute CEB_0
  execute RD_WORD_CRC compress
  execute CEB_1
  count A_0000400
  end repeat
end unit

unit "Read 512 Words From Address $0000800"
 preset counter A_0000800
 repeat 512 times
  execute CEB_0
  execute RD_WORD_CRC compress
  execute CEB_1
  count A_0000800
 end repeat
end unit

unit "Read 512 Words From Address $0001000"
 preset counter A_0001000
 repeat 512 times
  execute CEB_0
  execute RD_WORD_CRC compress
  execute CEB_1
  count A_0001000
 end repeat
end unit

unit "Read 512 Words From Address $0002000"
 preset counter A_0002000
 repeat 512 times
  execute CEB_0
  execute RD_WORD_CRC compress
  execute CEB_1
  count A_0002000
 end repeat
end unit

unit "Read 512 Words From Address $0004000"
 preset counter A_0004000
 repeat 512 times
  execute CEB_0
  execute RD_WORD_CRC compress
  execute CEB_1
  count A_0004000
 end repeat
end unit

unit "Read 512 Words From Address $0008000"
 preset counter A_0008000
 repeat 512 times
  execute CEB_0
  execute RD_WORD_CRC compress
  execute CEB_1
  count A_0008000
 end repeat
end unit

unit "Read 512 Words From Address $0010000"
 preset counter A_0010000
 repeat 512 times
  execute CEB_0
  execute RD_WORD_CRC compress
  execute CEB_1
  count A_0010000
 end repeat
end unit

unit "Read 512 Words From Address $0020000"
 preset counter A_0020000
 repeat 512 times
  execute CEB_0
  execute RD_WORD_CRC compress
  execute CEB_1
  count A_0020000
 end repeat
end unit

unit "Read 512 Words From Address $0040000"
 preset counter A_0040000
 repeat 512 times
  execute CEB_0
  execute RD_WORD_CRC compress
  execute CEB_1
  count A_0040000
 end repeat
end unit

unit "Read 512 Words From Address $0080000"
 preset counter A_0080000
 repeat 512 times
  execute CEB_0
  execute RD_WORD_CRC compress
  execute CEB_1
  count A_0080000
 end repeat
end unit

unit "Read 512 Words From Address $0100000"
 preset counter A_0100000
 repeat 512 times
  execute CEB_0
  execute RD_WORD_CRC compress
  execute CEB_1
  count A_0100000
 end repeat
end unit

unit "Read 512 Words From Address $0200000"
 preset counter A_0200000
 repeat 512 times
  execute CEB_0
  execute RD_WORD_CRC compress
  execute CEB_1
  count A_0200000
 end repeat
end unit

unit "Read 512 Words From Address $0400000"
 preset counter A_0400000
 repeat 512 times
  execute CEB_0
  execute RD_WORD_CRC compress
  execute CEB_1
  count A_0400000
 end repeat
end unit

unit "Read 512 Words From Address $0800000"
 preset counter A_0800000
 repeat 512 times
  execute CEB_0
  execute RD_WORD_CRC compress
  execute CEB_1
  count A_0400000
 end repeat
end unit

unit "Read 512 Words From Address $1000000"
 preset counter A_1000000
 repeat 512 times
  execute CEB_0
  execute RD_WORD_CRC compress
  execute CEB_1
  count A_0400000
 end repeat
end unit

! ************************ Byte Mode, Pin BYTEB = 0 ************************

unit "Read Device ID and CPU Bus Interface test"
 execute INIT1
 execute BYTEB_0
 call RST_IC
 call WR(A_0000555,WD_00AA)  ! Read Device ID
 call WR(A_00002AA,WD_0055)
 call WR(A_0000555,WD_0090)
 call RD(A_0000001,RD_FF7E)
 call RD(A_000000E,RD_FF23)
 call RD(A_000000F,RD_FF01)
 execute CEB_0               ! Test pin OEB for stuck low
 execute OEB_1
 execute RD_BYTE_FFFF
 execute CEB_1               ! Test pin CEB for stuck low
 execute OEB_0
 execute RD_BYTE_FFFF
end unit

unit "Read 1K Bytes From Address $0000000, A0 = 0"
 execute INIT1
 execute BYTEB_0
 call RST_IC
 preset counter A_0000000
 execute A0_0
 repeat 1024 times
  execute CEB_BYTE_0
  execute RD_BYTE_CRC compress
  execute CEB_BYTE_1
  count A_0000000
  end repeat
end unit

unit "Read 1K Bytes From Address $0000000, A0 = 1"
 execute INIT1
 execute BYTEB_0
 call RST_IC
 preset counter A_0000000
 execute A0_1
 repeat 1024 times
  execute CEB_BYTE_0
  execute RD_BYTE_CRC compress
  execute CEB_BYTE_1
  count A_0000000
  end repeat
end unit

unit "Read 512 Bytes From Address $0000400, A0 = 0"
 preset counter A_0000400
 repeat 512 times
  execute CEB_BYTE_0
  execute RD_BYTE_CRC compress
  execute CEB_BYTE_1
  count A_0000400
  end repeat
end unit

unit "Read 512 Bytes From Address $0000400, A0 = 1"
 preset counter A_0000400
 execute A0_0
 repeat 512 times
  execute CEB_BYTE_0
  execute RD_BYTE_CRC compress
  execute CEB_BYTE_1
  count A_0000400
  end repeat
end unit

unit "Read 512 Bytes From Address $0000800, A0 = 0"
 preset counter A_0000800
 execute A0_0
 repeat 512 times
  execute CEB_BYTE_0
  execute RD_BYTE_CRC compress
  execute CEB_BYTE_1
  count A_0000800
 end repeat
end unit

unit "Read 512 Bytes From Address $0000800, A0 = 1"
 preset counter A_0000800
 execute A0_1
 repeat 512 times
  execute CEB_BYTE_0
  execute RD_BYTE_CRC compress
  execute CEB_BYTE_1
  count A_0000800
 end repeat
end unit

unit "Read 512 Bytes From Address $0001000, A0 = 0"
 preset counter A_0001000
 execute A0_0
 repeat 512 times
  execute CEB_BYTE_0
  execute RD_BYTE_CRC compress
  execute CEB_BYTE_1
  count A_0001000
 end repeat
end unit

unit "Read 512 Bytes From Address $0001000, A0 = 1"
 preset counter A_0001000
 execute A0_1
 repeat 512 times
  execute CEB_BYTE_0
  execute RD_BYTE_CRC compress
  execute CEB_BYTE_1
  count A_0001000
 end repeat
end unit

unit "Read 512 Bytes From Address $0002000, A0 = 0"
 preset counter A_0002000
 execute A0_0
 repeat 512 times
  execute CEB_BYTE_0
  execute RD_BYTE_CRC compress
  execute CEB_BYTE_1
  count A_0002000
 end repeat
end unit

unit "Read 512 Bytes From Address $0002000, A0 = 1"
 preset counter A_0002000
 execute A0_1
 repeat 512 times
  execute CEB_BYTE_0
  execute RD_BYTE_CRC compress
  execute CEB_BYTE_1
  count A_0002000
 end repeat
end unit

unit "Read 512 Bytes From Address $0004000, A0 = 0"
 preset counter A_0004000
 execute A0_0
 repeat 512 times
  execute CEB_BYTE_0
  execute RD_BYTE_CRC compress
  execute CEB_BYTE_1
  count A_0004000
 end repeat
end unit

unit "Read 512 Bytes From Address $0004000, A0 = 1"
 preset counter A_0004000
 execute A0_1
 repeat 512 times
  execute CEB_BYTE_0
  execute RD_BYTE_CRC compress
  execute CEB_BYTE_1
  count A_0004000
 end repeat
end unit

unit "Read 512 Bytes From Address $0008000, A0 = 0"
 preset counter A_0008000
 execute A0_0
 repeat 512 times
  execute CEB_BYTE_0
  execute RD_BYTE_CRC compress
  execute CEB_BYTE_1
  count A_0008000
 end repeat
end unit

unit "Read 512 Bytes From Address $0008000, A0 = 1"
 preset counter A_0008000
 execute A0_1
 repeat 512 times
  execute CEB_BYTE_0
  execute RD_BYTE_CRC compress
  execute CEB_BYTE_1
  count A_0008000
 end repeat
end unit

unit "Read 512 Bytes From Address $0010000, A0 = 0"
 preset counter A_0010000
 execute A0_0
 repeat 512 times
  execute CEB_BYTE_0
  execute RD_BYTE_CRC compress
  execute CEB_BYTE_1
  count A_0010000
 end repeat
end unit

unit "Read 512 Bytes From Address $0010000, A0 = 1"
 preset counter A_0010000
 execute A0_1
 repeat 512 times
  execute CEB_BYTE_0
  execute RD_BYTE_CRC compress
  execute CEB_BYTE_1
  count A_0010000
 end repeat
end unit

unit "Read 512 Bytes From Address $0020000, A0 = 0"
 preset counter A_0020000
 execute A0_0
 repeat 512 times
  execute CEB_BYTE_0
  execute RD_BYTE_CRC compress
  execute CEB_BYTE_1
  count A_0020000
 end repeat
end unit

unit "Read 512 Bytes From Address $0020000, A0 = 1"
 preset counter A_0020000
 execute A0_1
 repeat 512 times
  execute CEB_BYTE_0
  execute RD_BYTE_CRC compress
  execute CEB_BYTE_1
  count A_0020000
 end repeat
end unit

unit "Read 512 Bytes From Address $0040000, A0 = 0"
 preset counter A_0040000
 execute A0_0
 repeat 512 times
  execute CEB_BYTE_0
  execute RD_BYTE_CRC compress
  execute CEB_BYTE_1
  count A_0040000
 end repeat
end unit

unit "Read 512 Bytes From Address $0040000, A0 = 1"
 preset counter A_0040000
 execute A0_1
 repeat 512 times
  execute CEB_BYTE_0
  execute RD_BYTE_CRC compress
  execute CEB_BYTE_1
  count A_0040000
 end repeat
end unit

unit "Read 512 Bytes From Address $0080000, A0 = 0"
 preset counter A_0080000
 execute A0_0
 repeat 512 times
  execute CEB_BYTE_0
  execute RD_BYTE_CRC compress
  execute CEB_BYTE_1
  count A_0080000
 end repeat
end unit

unit "Read 512 Bytes From Address $0080000, A0 = 1"
 preset counter A_0080000
 execute A0_1
 repeat 512 times
  execute CEB_BYTE_0
  execute RD_BYTE_CRC compress
  execute CEB_BYTE_1
  count A_0080000
 end repeat
end unit

unit "Read 512 Bytes From Address $0100000, A0 = 0"
 preset counter A_0100000
 execute A0_0
 repeat 512 times
  execute CEB_BYTE_0
  execute RD_BYTE_CRC compress
  execute CEB_BYTE_1
  count A_0100000
 end repeat
end unit

unit "Read 512 Bytes From Address $0100000, A0 = 1"
 preset counter A_0100000
 execute A0_1
 repeat 512 times
  execute CEB_BYTE_0
  execute RD_BYTE_CRC compress
  execute CEB_BYTE_1
  count A_0100000
 end repeat
end unit

unit "Read 512 Bytes From Address $0200000, A0 = 0"
 preset counter A_0200000
 execute A0_0
 repeat 512 times
  execute CEB_BYTE_0
  execute RD_BYTE_CRC compress
  execute CEB_BYTE_1
  count A_0200000
 end repeat
end unit

unit "Read 512 Bytes From Address $0200000, A0 = 1"
 preset counter A_0200000
 execute A0_1
 repeat 512 times
  execute CEB_BYTE_0
  execute RD_BYTE_CRC compress
  execute CEB_BYTE_1
  count A_0200000
 end repeat
end unit

unit "Read 512 Bytes From Address $0400000, A0 = 0"
 preset counter A_0400000
 execute A0_0
 repeat 512 times
  execute CEB_BYTE_0
  execute RD_BYTE_CRC compress
  execute CEB_BYTE_1
  count A_0400000
 end repeat
end unit

unit "Read 512 Bytes From Address $0400000, A0 = 1"
 preset counter A_0400000
 execute A0_1
 repeat 512 times
  execute CEB_BYTE_0
  execute RD_BYTE_CRC compress
  execute CEB_BYTE_1
  count A_0400000
 end repeat
end unit

unit "Read 512 Bytes From Address $0800000, A0 = 0"
 preset counter A_0800000
 execute A0_0
 repeat 512 times
  execute CEB_BYTE_0
  execute RD_BYTE_CRC compress
  execute CEB_BYTE_1
  count A_0800000
 end repeat
end unit

unit "Read 512 Bytes From Address $0800000, A0 = 1"
 preset counter A_0800000
 execute A0_1
 repeat 512 times
  execute CEB_BYTE_0
  execute RD_BYTE_CRC compress
  execute CEB_BYTE_1
  count A_0800000
 end repeat
end unit

unit "Read 512 Bytes From Address $1000000, A0 = 0"
 preset counter A_1000000
 execute A0_0
 repeat 512 times
  execute CEB_BYTE_0
  execute RD_BYTE_CRC compress
  execute CEB_BYTE_1
  count A_1000000
 end repeat
end unit

unit "Read 512 Bytes From Address $1000000, A0 = 1"
 preset counter A_1000000
 execute A0_1
 repeat 512 times
  execute CEB_BYTE_0
  execute RD_BYTE_CRC compress
  execute CEB_BYTE_1
  count A_1000000
 end repeat
end unit

