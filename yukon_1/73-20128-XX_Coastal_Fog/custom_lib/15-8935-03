!!!!    6    0    1  871579588  V9c7e                                         
!
!***  All contents copyright 2004 Cisco Systems Inc.
!***  All rights reserved.
!***  No portion of this software may be used or reproduced in any form, or
!***  by any means, without prior written permission from Cisco Systems, Inc.
!
! Part Name:         88E1112
! Alias:
! Part Type:         VLSI
! Description:       10/100/1000 Giga Bit Transceiver
! Manufacturer:      Marvell
! Package Style:     64 pins QFP
! Created:           Dec 13, 2005
! Programmer:        sama
! Tester:            HP3070
! Processor:         VPU
! Vector Format:     VCL
! Testjet Testable:  yes
! JTAG Device:       yes
! Fault coverage:    LT%
! Constraints:       See pin assignment section for detail
! Cisco Part #:      15-8935-01

sequential

vector cycle 180n
receive delay 160n

assign GND     to pins 55,63
assign VDD     to pins 39,43,47,62,64
assign VDD     to pins 20,23,24,29,33
assign VDD     to pins 7,14,6,13,37
assign VDD     to pins 56
assign SVTT    to pins 3
assign FVTT    to pins 12

assign NC      to pins 32
assign RSET    to pins 17

assign XTAL1   to pins 36
assign XTAL2   to pins 35   ! No access
assign RSTB    to pins 52
assign TESTI   to pins 49   ! No access
assign PWRDN   to pins 50
assign POLRST  to pins 51
assign CONFIG5 to pins 41   ! Tied to pin 45
assign CONFIG4 to pins 42
assign CONFIG3 to pins 44   ! Tied to pin 38
assign CONFIG2 to pins 45
assign CONFIG1 to pins 46   ! Tied to pin 40
assign CONFIG0 to pins 48
assign STATUS1 to pins 38
assign STATUS0 to pins 40
assign INIT    to pins 61
assign HSDACP  to pins 25   ! No access
assign HSDACN  to pins 26   ! No access
assign TSTPT   to pins 34   ! No access

assign SIN     to pins 9,8
assign SOUT    to pins 5,4
assign SCLK    to pins 2,1
assign SCLKP   to pins 2
assign SCLKN   to pins 1
assign LOS     to pins 59

assign FIN     to pins 16,15
assign FOUT    to pins 11,10
assign FOUTP   to pins 11
assign FOUTN   to pins 10
assign FDET    to pins 60

assign MDI3    to pins 30,31   ! No access
assign MDI2    to pins 27,28   ! No access
assign MDI1    to pins 21,22   ! No access
assign MDI0    to pins 18,19   ! No access

assign SDA     to pins 53   ! No access
assign SCL     to pins 54   ! No access
assign MDIO    to pins 58
assign MDC     to pins 57

power   VDD,GND,SVTT,FVTT
inputs  XTAL1,RSTB,TESTI,PWRDN,POLRST
inputs  CONFIG5,CONFIG4,CONFIG3,CONFIG2,CONFIG1
inputs  CONFIG0,SIN,FIN,FDET,SCL
inputs  MDC
outputs XTAL2,STATUS1,STATUS0,INIT,HSDACP
outputs HSDACN,TSTPT,SOUT,SCLK,LOS
outputs FOUT,FOUTP,FOUTN,SCLKP,SCLKN
bidirectional MDI3,MDI2,MDI1,MDI0,SDA
bidirectional MDIO
nondigital NC,RSET

disable MDI3,MDI2,MDI1,MDI0,SDA,MDIO with RSTB,XTAL1 to "0t" 20 times

family LVT

set load on groups XTAL2   to pull up
set load on groups STATUS1 to pull up
set load on groups STATUS0 to pull up
set load on groups INIT    to pull up
set load on groups HSDACP  to pull up
set load on groups HSDACN  to pull up
set load on groups TSTPT   to pull up
set load on groups SOUT    to pull up
set load on groups SCLK    to pull up
set load on groups LOS     to pull up
set load on groups FOUTP   to pull up
set load on groups FOUTN   to pull down
set load on groups MDI3    to pull up
set load on groups MDI2    to pull up
set load on groups MDI1    to pull up
set load on groups MDI0    to pull up
set load on groups SDA     to pull up
set load on groups MDIO    to pull up

vector INIT1
 receive MDIO
 set XTAL1   to "0"
 set XTAL2   to "x"
 set RSTB    to "0"
 set TESTI   to "0"
 set PWRDN   to "0"
 set POLRST  to "0"
 set CONFIG5 to "0"
 set CONFIG4 to "0"
 set CONFIG3 to "x"
 set CONFIG2 to "0"
 set CONFIG1 to "x"
 set CONFIG0 to "0"
 set STATUS1 to "x"
 set STATUS0 to "x"
 set INIT    to "x"
 set HSDACP  to "x"
 set HSDACN  to "x"
 set TSTPT   to "x"

 set SIN     to "01"
 set SOUT    to "xx"
 set SCLK    to "xx"
 set LOS     to "x"

 set FDET    to "1"
 set FIN     to "01"
 set FOUT    to "xx"

 set MDI3    to "xx"
 set MDI2    to "xx"
 set MDI1    to "xx"
 set MDI0    to "xx"

 set SDA     to "x"
 set SCL     to "0"
 set MDIO    to "x"
 set MDC     to "0"
end vector

vector KEEP1
 set XTAL1   to "t"
 set XTAL2   to "x"
 set RSTB    to "k"
 set TESTI   to "k"
 set PWRDN   to "k"
 set POLRST  to "k"
 set CONFIG5 to "k"
 set CONFIG4 to "k"
 set CONFIG3 to "x"
 set CONFIG2 to "k"
 set CONFIG1 to "x"
 set CONFIG0 to "k"
 set STATUS1 to "x"
 set STATUS0 to "x"
 set INIT    to "x"
 set HSDACP  to "x"
 set HSDACN  to "x"
 set TSTPT   to "x"
 set SIN     to "kk"
 set SOUT    to "xx"
 set SCLK    to "xx"
 set LOS     to "x"
 set FDET    to "k"
 set FIN     to "kk"
 set FOUT    to "xx"
 set MDI3    to "xx"
 set MDI2    to "xx"
 set MDI1    to "xx"
 set MDI0    to "xx"
 set SDA     to "x"
 set SCL     to "0"
 set MDIO    to "x"
 set MDC     to "0"
end vector

vector RSTB_0
 initialize to KEEP1
 set RSTB   to "0"
end vector

vector RSTB_1
 initialize to KEEP1
 set RSTB   to "1"
end vector

vector XTAL2_0
 initialize to KEEP1
 set XTAL1  to "1"
 set XTAL2  to "0"
end vector

vector XTAL2_1
 initialize to KEEP1
 set XTAL1  to "0"
 set XTAL2  to "1"
end vector

vector RST_MOUT
 initialize  to KEEP1
 set XTAL2   to "1"
 set STATUS1 to "1"
 set STATUS0 to "1"
 set INIT    to "x"
 set HSDACP  to "1"
 set HSDACN  to "1"
 set TSTPT   to "1"
 set SOUT    to "xx"
 set SCLK    to "11"
 set LOS     to "1"
 set FOUT    to "10"
 set MDI3    to "11"
 set MDI2    to "11"
 set MDI1    to "11"
 set MDI0    to "11"
 set SDA     to "1"
 set MDIO    to "1"
end vector

vector RUN_MOUT
 initialize  to KEEP1
 set XTAL2   to "1"
 set STATUS1 to "x"
 set STATUS0 to "x"
 set INIT    to "x"
 set HSDACP  to "1"
 set HSDACN  to "1"
 set TSTPT   to "1"
 set SOUT    to "11"
 set SCLK    to "xx"
 set LOS     to "1"
 set FOUT    to "xx"
 set MDI3    to "11"
 set MDI2    to "11"
 set MDI1    to "11"
 set MDI0    to "11"
 set SDA     to "1"
 set MDIO    to "1"
end vector

vector STATUS0_0
 initialize  to KEEP1
 set STATUS0 to "0"
end vector

vector STATUS0_1
 initialize  to KEEP1
 set STATUS0 to "1"
end vector

vector STATUS1_0
 initialize  to KEEP1
 set STATUS1 to "0"
end vector

vector STATUS1_1
 initialize  to KEEP1
 set STATUS1 to "1"
end vector

vector SCLKP_0
 initialize  to KEEP1
 set SCLKP   to "0"
end vector

vector SCLKP_1
 initialize  to KEEP1
 set SCLKP   to "1"
end vector

vector SCLKN_0
 initialize  to KEEP1
 set SCLKN   to "0"
end vector

vector SCLKN_1
 initialize  to KEEP1
 set SCLKN   to "1"
end vector

vector FOUTP_0
 initialize  to KEEP1
 set FOUTP   to "0"
end vector

vector FOUTP_1
 initialize  to KEEP1
 set FOUTP   to "1"
end vector

vector FOUTN_0
 initialize  to KEEP1
 set FOUTN   to "0"
end vector

vector FOUTN_1
 initialize  to KEEP1
 set FOUTN   to "1"
end vector

vector PWRDN_1
 initialize to KEEP1
 set PWRDN  to "1"
 set POLRST to "1"
end vector

vector PDN_MOUT1
 initialize  to KEEP1
 set XTAL2   to "1"
 set STATUS1 to "1"
 set STATUS0 to "1"
 set INIT    to "x"
 set HSDACP  to "1"
 set HSDACN  to "1"
 set TSTPT   to "1"
 set SOUT    to "11"
 set SCLK    to "xx"
 set LOS     to "1"
 set FOUT    to "10"
 set MDI3    to "11"
 set MDI2    to "11"
 set MDI1    to "11"
 set MDI0    to "11"
 set SDA     to "1"
 set MDIO    to "1"
end vector

vector PDN_MOUT2
 initialize  to KEEP1
 set XTAL2   to "1"
 set STATUS1 to "1"
 set STATUS0 to "1"
 set INIT    to "x"
 set HSDACP  to "1"
 set HSDACN  to "1"
 set TSTPT   to "1"
 set SOUT    to "11"
 set SCLK    to "11"
 set LOS     to "1"
 set FOUT    to "10"
 set MDI3    to "11"
 set MDI2    to "11"
 set MDI1    to "11"
 set MDI0    to "11"
 set SDA     to "1"
 set MDIO    to "1"
end vector

! ************************************************************************

sub RST_IC
 repeat 4000 times
  execute RSTB_0
 end repeat
 repeat 80 times
 execute RST_MOUT
 end repeat
 repeat 40 times
  execute RSTB_1
 end repeat
end sub

! ************************************************************************

unit "Free Run"
 execute INIT1
 call RST_IC
 repeat 4 times
  execute XTAL2_0
  execute XTAL2_1
 end repeat
 homingloop 80 times
  execute STATUS1_0 exit if pass
 end homingloop
 homingloop 80 times
  execute STATUS0_0 exit if pass
 end homingloop
 homingloop 510 times
  execute SCLKP_0 exit if pass
 end homingloop
 homingloop 40 times
  execute SCLKN_0 exit if pass
 end homingloop
 homingloop 40 times
  execute FOUTP_0 exit if pass
 end homingloop
 homingloop 24000 times
  execute FOUTN_1 exit if pass
 end homingloop
 repeat 40000 times
  execute RUN_MOUT
 end repeat
end unit

unit "PWRDN, POLRST test"
 execute INIT1
 execute PWRDN_1
 repeat 4000 times
  execute RSTB_0
 end repeat
 repeat 80 times
 execute PDN_MOUT1
 end repeat
 repeat 40 times
  execute RSTB_1
 end repeat
 repeat 40000 times
  execute PDN_MOUT2
 end repeat
end unit

