!!!!    6    0    1 1555652357  Vc1c8                                         

sequential

vector cycle  5u
receive delay 4u

assign   VDD         to pins  2
assign   VSS         to pins  10

assign   CS_bar     to pins  7
assign   WP_bar     to pins  9
assign   SI         to pins  15
assign   CLK        to pins  16
assign   HOLD_bar   to pins  1
assign   SO         to pins  8
assign   NC         to pins  3,4,5,6,11,12,13,14


family   TTL

power    VDD, VSS

inputs   CS_bar, WP_bar, SI
inputs   CLK, HOLD_bar
outputs  SO
nondigital NC

!set     load on groups  SO            to pull up

disable SO with CS_bar to "1"

vector  Initialize
   set   CS_bar     to "1"
   set   WP_bar     to "1"
   set   SI         to "0"
   set   CLK        to "0"
   set   HOLD_bar   to "1"
end vector

vector  Keep
   set   CS_bar     to "k"
   set   WP_bar     to "k"
   set   SI         to "k"
   set   CLK        to "k"
   set   HOLD_bar   to "k"
end vector

vector  CLK_0
   initialize        to Keep
   set   CLK      to "0"
end vector

vector  CLK_1
   initialize        to Keep
   set   CLK      to "1"
end vector

vector  CS_bar_1
   initialize        to Keep
   set   CS_bar     to "1"
end vector

vector  CS_bar_0
   initialize        to Keep
   set   CS_bar     to "0"
end vector

vector  WP_bar_1
   initialize        to Keep
   set   WP_bar     to "1"
end vector

vector  WP_bar_0
   initialize        to Keep
   set   WP_bar     to "0"
end vector

vector  SI_1
   initialize        to Keep
   set   SI          to "1"
end vector

vector  SI_0
   initialize        to Keep
   set   SI          to "0"
end vector

vector  HOLD_bar_1
   initialize        to Keep
   set   HOLD_bar   to "1"
end vector

vector  HOLD_bar_0
   initialize        to Keep
   set   HOLD_bar   to "0"
end vector

vector  SO_1
   initialize        to Keep
   set   SO          to "1"
end vector

vector  SO_0
   initialize        to Keep
   set   SO          to "0"
end vector

vector  SO_x
   initialize        to Keep
   set   SO          to "X"
end vector

sub  WRITE(OP7, OP6, OP5, OP4, OP3, OP2, OP1, OP0)
   execute  CLK_0
   execute  OP7
   execute  CLK_1

   execute  CLK_0
   execute  OP6
   execute  CLK_1

   execute  CLK_0
   execute  OP5
   execute  CLK_1

   execute  CLK_0
   execute  OP4
   execute  CLK_1

   execute  CLK_0
   execute  OP3
   execute  CLK_1

   execute  CLK_0
   execute  OP2
   execute  CLK_1

   execute  CLK_0
   execute  OP1
   execute  CLK_1

   execute  CLK_0
   execute  OP0
   execute  CLK_1
end sub

sub  Read_Data(D7, D6, D5, D4, D3, D2, D1, D0)
   execute  CLK_1
   execute  D7
   execute  CLK_0

   execute  CLK_1
   execute  D6
   execute  CLK_0

   execute  CLK_1
   execute  D5
   execute  CLK_0

   execute  CLK_1
   execute  D4
   execute  CLK_0

   execute  CLK_1
   execute  D3
   execute  CLK_0

   execute  CLK_1
   execute  D2
   execute  CLK_0

   execute  CLK_1
   execute  D1
   execute  CLK_0

   execute  CLK_1
   execute  D0
   execute  CLK_0
end sub

unit  "CRC CHECK"
  execute Initialize
  execute CS_bar_0
  call WRITE(SI_0,SI_0,SI_0,SI_0,SI_0,SI_0,SI_1,SI_1)       !!read code  0000 0011
  call WRITE(SI_0,SI_0,SI_0,SI_0,SI_0,SI_0,SI_0,SI_0)       !!Address
  call WRITE(SI_0,SI_0,SI_0,SI_0,SI_0,SI_0,SI_0,SI_0)       !!Address
  call WRITE(SI_0,SI_0,SI_0,SI_0,SI_0,SI_0,SI_0,SI_0)       !!Address

  repeat 128 times
     execute CLK_0
     execute CLK_1
     execute SO_x compress
  end repeat
  execute CLK_0
  execute CS_bar_1
end unit
